<!-- 管理员页面 -->
<div class="admin-page min-h-screen bg-gray-50">
    <div class="page-header bg-white shadow-sm p-4 md:p-6">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <div class="page-title text-2xl font-bold text-gray-800 mb-4 md:mb-0">管理员控制台</div>
            <div class="back-button bg-[#1890ff] text-white px-4 py-2 rounded-md hover:bg-[#0e80f0] transition cursor-pointer shadow-sm">
                返回主页
            </div>
        </div>
    </div>
    
    <!-- 投诉结果统计 -->
    <div class="admin-section container mx-auto p-4 md:p-6 mb-8">
        <div class="admin-section-title text-xl font-semibold text-gray-800 mb-6 flex items-center">
            <i class="fas fa-clipboard-check text-blue-600 mr-2"></i>投诉结果统计
        </div>
        
        <div class="admin-card-container grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
            <div class="admin-card bg-white rounded-lg shadow-sm p-5 border-l-4 border-blue-500 transform transition hover:scale-105 hover:shadow-md">
                <div class="admin-card-title text-gray-500 text-sm font-medium mb-1">总投诉量</div>
                <div class="admin-card-value text-3xl font-bold text-gray-800 mb-2">256</div>
                <div class="admin-card-label text-xs text-gray-500 flex items-center">
                    <i class="fas fa-calendar-alt mr-1"></i>本月累计
                </div>
            </div>
            
            <div class="admin-card bg-white rounded-lg shadow-sm p-5 border-l-4 border-green-500 transform transition hover:scale-105 hover:shadow-md">
                <div class="admin-card-title text-gray-500 text-sm font-medium mb-1">成功处理</div>
                <div class="admin-card-value text-3xl font-bold text-gray-800 mb-2">192</div>
                <div class="admin-card-label text-xs text-gray-500 flex items-center">
                    <i class="fas fa-check-circle mr-1"></i>成功率：75%
                </div>
            </div>
            
            <div class="admin-card bg-white rounded-lg shadow-sm p-5 border-l-4 border-yellow-500 transform transition hover:scale-105 hover:shadow-md">
                <div class="admin-card-title text-gray-500 text-sm font-medium mb-1">处理中</div>
                <div class="admin-card-value text-3xl font-bold text-gray-800 mb-2">48</div>
                <div class="admin-card-label text-xs text-gray-500 flex items-center">
                    <i class="fas fa-clock mr-1"></i>预计3天内完成
                </div>
            </div>
            
            <div class="admin-card bg-white rounded-lg shadow-sm p-5 border-l-4 border-red-500 transform transition hover:scale-105 hover:shadow-md">
                <div class="admin-card-title text-gray-500 text-sm font-medium mb-1">未处理</div>
                <div class="admin-card-value text-3xl font-bold text-gray-800 mb-2">16</div>
                <div class="admin-card-label text-xs text-gray-500 flex items-center">
                    <i class="fas fa-exclamation-triangle mr-1"></i>未处理任务
                </div>
            </div>
        </div>
        
        <!-- 过滤器和搜索 -->
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4">
            <div class="flex flex-wrap gap-2">
                <select class="border border-gray-300 rounded-md px-3 py-2 text-sm">
                    <option>全部状态</option>
                    <option>已处理</option>
                    <option>处理中</option>
                    <option>未处理</option>
                </select>
                <select class="border border-gray-300 rounded-md px-3 py-2 text-sm">
                    <option>全部平台</option>
                    <option>微博</option>
                    <option>知乎</option>
                    <option>小红书</option>
                    <option>微信公众号</option>
                    <option>抖音</option>
                </select>
                <select class="border border-gray-300 rounded-md px-3 py-2 text-sm">
                    <option>近7天</option>
                    <option>近30天</option>
                    <option>本月</option>
                    <option>上月</option>
                    <option>自定义</option>
                </select>
            </div>
            <div class="relative w-full sm:w-auto">
                <input type="text" placeholder="搜索投诉ID或内容" class="border border-gray-300 rounded-md px-3 py-2 pl-10 text-sm w-full sm:w-64">
                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-sm overflow-hidden mb-6">
            <table class="admin-table w-full">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            投诉ID <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            投诉内容 <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            投诉平台 <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            提交时间 <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            处理状态 <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            处理结果 <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            操作
                        </th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">TS20250915001</td>
                        <td class="py-3 px-4 text-sm text-gray-900">某企业产品质量问题</td>
                        <td class="py-3 px-4 text-sm text-gray-900">微博</td>
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-15</td>
                        <td class="py-3 px-4 text-sm text-gray-900">已处理</td>
                        <td class="py-3 px-4">
                            <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">成功</span>
                        </td>
                        <td class="py-3 px-4 text-sm">
                            <a href="editor1.html" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">TS20250914002</td>
                        <td class="py-3 px-4 text-sm text-gray-900">某企业虚假宣传问题</td>
                        <td class="py-3 px-4 text-sm text-gray-900">知乎</td>
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-14</td>
                        <td class="py-3 px-4 text-sm text-gray-900">已处理</td>
                        <td class="py-3 px-4">
                            <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">成功</span>
                        </td>
                        <td class="py-3 px-4 text-sm">
                            <a href="editor1.html" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">TS20250913003</td>
                        <td class="py-3 px-4 text-sm text-gray-900">某企业售后服务态度差</td>
                        <td class="py-3 px-4 text-sm text-gray-900">小红书</td>
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-13</td>
                        <td class="py-3 px-4 text-sm text-gray-900">已处理</td>
                        <td class="py-3 px-4">
                            <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">成功</span>
                        </td>
                        <td class="py-3 px-4 text-sm">
                            <a href="editor1.html" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">TS20250912004</td>
                        <td class="py-3 px-4 text-sm text-gray-900">某企业涉嫌信息泄露</td>
                        <td class="py-3 px-4 text-sm text-gray-900">微信公众号</td>
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-12</td>
                        <td class="py-3 px-4 text-sm text-gray-900">处理中</td>
                        <td class="py-3 px-4">-</td>
                        <td class="py-3 px-4 text-sm">
                            <a href="editor1.html" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">TS20250911005</td>
                        <td class="py-3 px-4 text-sm text-gray-900">某企业产品价格争议</td>
                        <td class="py-3 px-4 text-sm text-gray-900">抖音</td>
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-11</td>
                        <td class="py-3 px-4 text-sm text-gray-900">已处理</td>
                        <td class="py-3 px-4">
                            <span class="px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full">失败</span>
                        </td>
                        <td class="py-3 px-4 text-sm">
                            <a href="editor1.html" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <!-- 分页 -->
            <div class="px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
                <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                    <div>
                        <p class="text-sm text-gray-700">
                            显示第 <span class="font-medium">1</span> 至 <span class="font-medium">5</span> 条，共 <span class="font-medium">24</span> 条结果
                        </p>
                    </div>
                    <div>
                        <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                            <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                <span class="sr-only">上一页</span>
                                <i class="fas fa-chevron-left text-xs"></i>
                            </a>
                            <a href="#" aria-current="page" class="z-10 bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                1
                            </a>
                            <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                2
                            </a>
                            <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                3
                            </a>
                            <span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">
                                ...
                            </span>
                            <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                5
                            </a>
                            <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                <span class="sr-only">下一页</span>
                                <i class="fas fa-chevron-right text-xs"></i>
                            </a>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="admin-chart bg-white rounded-lg shadow-sm p-4 md:p-6 h-80">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-sm font-medium text-gray-700">投诉处理趋势图</h3>
                <div class="flex space-x-2">
                    <button class="px-3 py-1 text-xs rounded bg-blue-100 text-blue-800">日</button>
                    <button class="px-3 py-1 text-xs rounded bg-gray-100 text-gray-800">周</button>
                    <button class="px-3 py-1 text-xs rounded bg-gray-100 text-gray-800">月</button>
                </div>
            </div>
            <canvas id="complaintChart"></canvas>
        </div>
    </div>
    
    <!-- Token数量和计费 -->
    <div class="admin-section container mx-auto p-4 md:p-6 mb-8">
        <div class="admin-section-title text-xl font-semibold text-gray-800 mb-6 flex items-center">
            <i class="fas fa-coins text-purple-600 mr-2"></i>Token数量和计费
        </div>
        
        <div class="admin-card-container grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
            <div class="admin-card bg-white rounded-lg shadow-sm p-5 border-l-4 border-purple-500 transform transition hover:scale-105 hover:shadow-md">
                <div class="admin-card-title text-gray-500 text-sm font-medium mb-1">本月消耗Token</div>
                <div class="admin-card-value text-3xl font-bold text-gray-800 mb-2">1,256,789</div>
                <div class="admin-card-label text-xs text-green-600 flex items-center">
                    <i class="fas fa-arrow-up mr-1"></i>较上月 +12.5%
                </div>
            </div>
            
            <div class="admin-card bg-white rounded-lg shadow-sm p-5 border-l-4 border-indigo-500 transform transition hover:scale-105 hover:shadow-md">
                <div class="admin-card-title text-gray-500 text-sm font-medium mb-1">本月计费金额</div>
                <div class="admin-card-value text-3xl font-bold text-gray-800 mb-2">¥3,856.42</div>
                <div class="admin-card-label text-xs text-green-600 flex items-center">
                    <i class="fas fa-arrow-up mr-1"></i>较上月 +15.3%
                </div>
            </div>
            
            <div class="admin-card bg-white rounded-lg shadow-sm p-5 border-l-4 border-teal-500 transform transition hover:scale-105 hover:shadow-md">
                <div class="admin-card-title text-gray-500 text-sm font-medium mb-1">平均每任务Token</div>
                <div class="admin-card-value text-3xl font-bold text-gray-800 mb-2">4,910</div>
                <div class="admin-card-label text-xs text-red-600 flex items-center">
                    <i class="fas fa-arrow-down mr-1"></i>较上月 -5.2%
                </div>
            </div>
            
            <div class="admin-card bg-white rounded-lg shadow-sm p-5 border-l-4 border-amber-500 transform transition hover:scale-105 hover:shadow-md">
                <div class="admin-card-title text-gray-500 text-sm font-medium mb-1">剩余Token额度</div>
                <div class="admin-card-value text-3xl font-bold text-gray-800 mb-2">8,743,211</div>
                <div class="admin-card-label text-xs text-gray-500 flex items-center">
                    <i class="fas fa-calendar-check mr-1"></i>预计可用30天
                </div>
            </div>
        </div>
        
        <!-- 过滤器和搜索 -->
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4">
            <div class="flex flex-wrap gap-2">
                <select class="border border-gray-300 rounded-md px-3 py-2 text-sm">
                    <option>近7天</option>
                    <option>近30天</option>
                    <option>本月</option>
                    <option>上月</option>
                    <option>本季度</option>
                    <option>自定义</option>
                </select>
            </div>
            <div class="relative w-full sm:w-auto">
                <input type="text" placeholder="搜索日期或任务" class="border border-gray-300 rounded-md px-3 py-2 pl-10 text-sm w-full sm:w-64">
                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-sm overflow-hidden mb-6">
            <table class="admin-table w-full">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            日期 <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            消耗Token <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            任务数量 <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            计费金额 <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            平均每任务Token <i class="fas fa-sort ml-1"></i>
                        </th>
                        <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition">
                            平均每任务成本 <i class="fas fa-sort ml-1"></i>
                        </th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-15</td>
                        <td class="py-3 px-4 text-sm text-gray-900">125,678</td>
                        <td class="py-3 px-4 text-sm text-gray-900">26</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥385.64</td>
                        <td class="py-3 px-4 text-sm text-gray-900">4,833</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥14.83</td>
                    </tr>
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-14</td>
                        <td class="py-3 px-4 text-sm text-gray-900">118,945</td>
                        <td class="py-3 px-4 text-sm text-gray-900">24</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥365.21</td>
                        <td class="py-3 px-4 text-sm text-gray-900">4,956</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥15.22</td>
                    </tr>
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-13</td>
                        <td class="py-3 px-4 text-sm text-gray-900">132,456</td>
                        <td class="py-3 px-4 text-sm text-gray-900">28</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥406.82</td>
                        <td class="py-3 px-4 text-sm text-gray-900">4,731</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥14.53</td>
                    </tr>
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-12</td>
                        <td class="py-3 px-4 text-sm text-gray-900">115,789</td>
                        <td class="py-3 px-4 text-sm text-gray-900">23</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥355.67</td>
                        <td class="py-3 px-4 text-sm text-gray-900">5,034</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥15.46</td>
                    </tr>
                    <tr class="hover:bg-gray-50 transition">
                        <td class="py-3 px-4 text-sm text-gray-900">2025-09-11</td>
                        <td class="py-3 px-4 text-sm text-gray-900">127,890</td>
                        <td class="py-3 px-4 text-sm text-gray-900">25</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥392.78</td>
                        <td class="py-3 px-4 text-sm text-gray-900">5,116</td>
                        <td class="py-3 px-4 text-sm text-gray-900">¥15.71</td>
                    </tr>
                </tbody>
            </table>
            
            <!-- 分页 -->
            <div class="px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
                <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                    <div>
                        <p class="text-sm text-gray-700">
                            显示第 <span class="font-medium">1</span> 至 <span class="font-medium">5</span> 条，共 <span class="font-medium">30</span> 条结果
                        </p>
                    </div>
                    <div>
                        <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                            <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                <span class="sr-only">上一页</span>
                                <i class="fas fa-chevron-left text-xs"></i>
                            </a>
                            <a href="#" aria-current="page" class="z-10 bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                1
                            </a>
                            <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                2
                            </a>
                            <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                3
                            </a>
                            <span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">
                                ...
                            </span>
                            <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                6
                            </a>
                            <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                <span class="sr-only">下一页</span>
                                <i class="fas fa-chevron-right text-xs"></i>
                            </a>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="admin-chart bg-white rounded-lg shadow-sm p-4 md:p-6 h-80">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-sm font-medium text-gray-700">Token消耗趋势图</h3>
                <div class="flex space-x-2">
                    <button class="px-3 py-1 text-xs rounded bg-blue-100 text-blue-800">日</button>
                    <button class="px-3 py-1 text-xs rounded bg-gray-100 text-gray-800">周</button>
                    <button class="px-3 py-1 text-xs rounded bg-gray-100 text-gray-800">月</button>
                </div>
            </div>
            <canvas id="tokenChart"></canvas>
        </div>
    </div>

    <!-- 公司信息填写部分 -->
    <div class="admin-section container mx-auto p-4 md:p-6 mb-4">
        <div class="admin-section-title text-xl font-semibold text-gray-800 mb-6 flex items-center">
            <i class="fas fa-building text-blue-600 mr-2"></i>公司信息管理
        </div>
        
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
            <!-- 设置卡片 - 默认折叠 -->
            <div class="setting-card mb-4">
                <div class="setting-header flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded-md" onclick="toggleSettingContent('company-info')">
                    <div class="flex items-center">
                        <i class="fas fa-info-circle text-blue-500 mr-3"></i>
                        <h3 class="text-lg font-medium text-gray-800">基本信息</h3>
                    </div>
                    <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="company-info-icon"></i>
                </div>
                <div class="setting-content hidden overflow-hidden transition-all duration-300 pl-8" id="company-info-content">
                    <div class="py-4">
                        <form class="space-y-6">
                            <!-- 基本信息 -->
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">公司名称</label>
                                    <input type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="请输入公司全称">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">统一社会信用代码</label>
                                    <input type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="请输入统一社会信用代码">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">法定代表人</label>
                                    <input type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="请输入法定代表人姓名">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">联系电话</label>
                                    <input type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="请输入联系电话">
                                </div>
                            </div>
                            
                            <!-- 公司地址 -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">公司地址</label>
                                <input type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="请输入公司详细地址">
                            </div>
                            
                            <!-- 公司简介 -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">公司简介</label>
                                <textarea class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24" placeholder="请简要介绍公司情况"></textarea>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- 附件上传部分 - 默认折叠 -->
            <div class="setting-card mb-4">
                <div class="setting-header flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded-md" onclick="toggleSettingContent('company-files')">
                    <div class="flex items-center">
                        <i class="fas fa-file-upload text-green-500 mr-3"></i>
                        <h3 class="text-lg font-medium text-gray-800">企业资质文件</h3>
                    </div>
                    <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="company-files-icon"></i>
                </div>
                <div class="setting-content hidden overflow-hidden transition-all duration-300 pl-8" id="company-files-content">
                    <div class="py-4">
                        <!-- 附件上传 -->
                        <div>
                            <div class="border-2 border-dashed border-gray-300 rounded-md p-6 text-center" id="dropzone">
                                <div class="space-y-2">
                                    <div class="mx-auto flex justify-center">
                                        <i class="fas fa-cloud-upload-alt text-gray-400 text-3xl"></i>
                                    </div>
                                    <div class="text-sm text-gray-600">
                                        <label for="file-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none">
                                            <span>点击上传文件</span>
                                            <input id="file-upload" name="file-upload" type="file" class="sr-only" multiple>
                                        </label>
                                        <span class="text-gray-500"> 或拖拽文件到此处</span>
                                    </div>
                                    <p class="text-xs text-gray-500">支持格式：PDF、JPG、PNG，单个文件不超过10MB</p>
                                </div>
                            </div>
                            
                            <!-- 文件列表 -->
                            <div class="mt-4 space-y-2" id="file-list">
                                <!-- 示例文件 -->
                                <div class="flex items-center justify-between bg-gray-50 p-2 rounded-md">
                                    <div class="flex items-center">
                                        <i class="fas fa-file-pdf text-red-500 mr-2"></i>
                                        <span class="text-sm text-gray-700">营业执照.pdf</span>
                                        <span class="ml-2 text-xs text-gray-500">(2.3MB)</span>
                                    </div>
                                    <button type="button" class="text-gray-500 hover:text-red-500 file-remove">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <div class="flex items-center justify-between bg-gray-50 p-2 rounded-md">
                                    <div class="flex items-center">
                                        <i class="fas fa-file-image text-blue-500 mr-2"></i>
                                        <span class="text-sm text-gray-700">公司logo.png</span>
                                        <span class="ml-2 text-xs text-gray-500">(0.8MB)</span>
                                    </div>
                                    <button type="button" class="text-gray-500 hover:text-red-500 file-remove">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 保存按钮 -->
            <div class="flex justify-end mt-6">
                <button type="button" class="px-6 py-2 bg-[#1890ff] text-white rounded-md hover:bg-[#0e80f0] transition">保存公司信息</button>
            </div>
        </div>
    </div>

    <!-- 用户偏好设置部分 -->
    <div class="admin-section container mx-auto p-4 md:p-6 mt-2 mb-8">
        <div class="admin-section-title text-xl font-semibold text-gray-800 mb-6 flex items-center">
            <i class="fas fa-user-cog text-blue-600 mr-2"></i>用户偏好设置
        </div>
        
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
            <!-- 设置卡片 - 默认折叠 -->
            <div class="setting-card mb-4">
                <div class="setting-header flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded-md" onclick="toggleSettingContent('risk-threshold')">
                    <div class="flex items-center">
                        <i class="fas fa-shield-alt text-blue-500 mr-3"></i>
                        <h3 class="text-lg font-medium text-gray-800">风险内容筛选</h3>
                        <div class="relative ml-2 group">
                            <i class="fas fa-info-circle text-gray-400 cursor-help"></i>
                            <div class="absolute left-0 bottom-full mb-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg p-4 z-10 hidden group-hover:block">
                                <p class="text-sm text-gray-700">
                                    关闭 "低风险舆情展示" 后，主页面筛选结果将默认隐藏低风险舆情；
                                    关闭 "是否自动发起平台投诉" 后，所有的平台投诉都将经过用户确认。
                                </p>
                            </div>
                        </div>
                    </div>
                    <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="risk-threshold-icon"></i>
                </div>
                <div class="setting-content hidden overflow-hidden transition-all duration-300 pl-8" id="risk-threshold-content">
                    <div class="py-4">
                        <div class="flex flex-wrap items-center gap-8 mb-4">
                            <div class="flex items-center">
                                <span class="mr-3 text-sm text-gray-700">低风险是否展示</span>
                                <label class="switch relative inline-block w-12 h-6">
                                    <input type="checkbox" class="opacity-0 w-0 h-0" checked>
                                    <span class="slider absolute cursor-pointer inset-0 bg-blue-500 rounded-full transition-all before:absolute before:h-4 before:w-4 before:left-1 before:bottom-1 before:bg-white before:rounded-full before:transition-all checked:before:translate-x-6"></span>
                                </label>
                            </div>
                            <div class="flex items-center">
                                <span class="mr-3 text-sm text-gray-700">是否自动发起平台投诉</span>
                                <label class="switch relative inline-block w-12 h-6">
                                    <input type="checkbox" class="opacity-0 w-0 h-0">
                                    <span class="slider absolute cursor-pointer inset-0 bg-gray-300 rounded-full transition-all before:absolute before:h-4 before:w-4 before:left-1 before:bottom-1 before:bg-white before:rounded-full before:transition-all checked:before:translate-x-6 checked:bg-blue-500"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 并行处置选项预设 -->
            <div class="setting-card mb-4">
                <div class="setting-header flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded-md" onclick="toggleSettingContent('parallel-process')">
                    <div class="flex items-center">
                        <i class="fas fa-tasks text-green-500 mr-3"></i>
                        <h3 class="text-lg font-medium text-gray-800">并行处置选项预设</h3>
                    </div>
                    <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="parallel-process-icon"></i>
                </div>
                <div class="setting-content hidden overflow-hidden transition-all duration-300 pl-8" id="parallel-process-content">
                    <div class="py-4 space-y-6">
                        <div>
                            <p class="text-sm text-blue-600 font-medium mb-3">高风险舆情侵权处置渠道</p>
                            <div class="flex flex-wrap gap-4">
                                <label class="inline-flex items-center">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600 rounded border-gray-300" checked>
                                    <span class="ml-2 text-sm text-gray-700">平台投诉</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600 rounded border-gray-300" checked>
                                    <span class="ml-2 text-sm text-gray-700">网信办投诉</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <p class="text-sm text-blue-600 font-medium mb-3">中风险舆情侵权处置渠道</p>
                            <div class="flex flex-wrap gap-4">
                                <label class="inline-flex items-center">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600 rounded border-gray-300" checked>
                                    <span class="ml-2 text-sm text-gray-700">平台投诉</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600 rounded border-gray-300">
                                    <span class="ml-2 text-sm text-gray-700">网信办投诉</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <p class="text-sm text-blue-600 font-medium mb-3">低风险舆情侵权处置渠道</p>
                            <div class="flex flex-wrap gap-4">
                                <label class="inline-flex items-center">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600 rounded border-gray-300" checked>
                                    <span class="ml-2 text-sm text-gray-700">平台投诉</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600 rounded border-gray-300">
                                    <span class="ml-2 text-sm text-gray-700">网信办投诉</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 通知设置 -->
            <div class="setting-card mb-4">
                <div class="setting-header flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded-md" onclick="toggleSettingContent('notification')">
                    <div class="flex items-center">
                        <i class="fas fa-bell text-amber-500 mr-3"></i>
                        <h3 class="text-lg font-medium text-gray-800">通知设置</h3>
                    </div>
                    <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="notification-icon"></i>
                </div>
                <div class="setting-content hidden overflow-hidden transition-all duration-300 pl-8" id="notification-content">
                    <div class="py-4 space-y-6">
                        <!-- 处理结果通知 -->
                        <div>
                            <p class="text-sm text-gray-700 font-medium mb-3">处理结果通知</p>
                            
                            <!-- 邮件通知 -->
                            <div class="mb-4">
                                <div class="flex items-center mb-2">
                                    <span class="mr-3 text-sm text-gray-700">邮件通知</span>
                                    <label class="switch relative inline-block w-12 h-6">
                                        <input type="checkbox" id="email-notification-toggle" class="opacity-0 w-0 h-0" checked>
                                        <span class="slider absolute cursor-pointer inset-0 bg-blue-500 rounded-full transition-all before:absolute before:h-4 before:w-4 before:left-1 before:bottom-1 before:bg-white before:rounded-full before:transition-all checked:before:translate-x-6"></span>
                                    </label>
                                </div>
                                <div id="email-notification-content" class="ml-6">
                                    <label class="block text-sm text-gray-600 mb-1">接收邮箱地址</label>
                                    <input type="email" class="w-full md:w-2/3 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="请输入接收通知的邮箱">
                                </div>
                            </div>
                            
                            <!-- 短信通知 -->
                            <div>
                                <div class="flex items-center mb-2">
                                    <span class="mr-3 text-sm text-gray-700">短信通知</span>
                                    <label class="switch relative inline-block w-12 h-6">
                                        <input type="checkbox" id="sms-notification-toggle" class="opacity-0 w-0 h-0">
                                        <span class="slider absolute cursor-pointer inset-0 bg-gray-300 rounded-full transition-all before:absolute before:h-4 before:w-4 before:left-1 before:bottom-1 before:bg-white before:rounded-full before:transition-all checked:before:translate-x-6 checked:bg-blue-500"></span>
                                    </label>
                                </div>
                                <div id="sms-notification-content" class="ml-6 hidden">
                                    <label class="block text-sm text-gray-600 mb-1">接收手机号码</label>
                                    <input type="tel" class="w-full md:w-2/3 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="请输入接收通知的手机号码">
                                </div>
                            </div>
                        </div>
                        
                        <!-- 待处理任务通知 -->
                        <div>
                            <p class="text-sm text-gray-700 font-medium mb-3">待处理任务通知</p>
                            
                            <!-- 通知频次 -->
                            <div class="mb-4">
                                <label class="block text-sm text-gray-600 mb-1">通知频次</label>
                                <div class="flex flex-wrap gap-3">
                                    <label class="inline-flex items-center">
                                        <input type="radio" name="notification-frequency" class="form-radio h-4 w-4 text-blue-600" id="freq-realtime">
                                        <span class="ml-2 text-sm text-gray-700">实时</span>
                                    </label>
                                    <label class="inline-flex items-center">
                                        <input type="radio" name="notification-frequency" class="form-radio h-4 w-4 text-blue-600" id="freq-daily" checked>
                                        <span class="ml-2 text-sm text-gray-700">每日</span>
                                    </label>
                                    <label class="inline-flex items-center">
                                        <input type="radio" name="notification-frequency" class="form-radio h-4 w-4 text-blue-600" id="freq-weekly">
                                        <span class="ml-2 text-sm text-gray-700">每周</span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- 通知时间 -->
                            <div class="mb-4" id="notification-time-container">
                                <label class="block text-sm text-gray-600 mb-1">通知时间</label>
                                <div class="flex gap-4 items-center">
                                    <!-- 每日时间选择 - 默认显示 -->
                                    <div id="daily-time">
                                        <input type="time" class="border border-gray-300 rounded-md px-3 py-2 text-sm" value="09:00">
                                    </div>
                                    
                                    <!-- 每周时间选择 - 默认隐藏 -->
                                    <div id="weekly-time" style="display: none;">
                                        <select class="border border-gray-300 rounded-md px-3 py-2 text-sm mr-2">
                                            <option value="1">周一</option>
                                            <option value="2">周二</option>
                                            <option value="3">周三</option>
                                            <option value="4">周四</option>
                                            <option value="5">周五</option>
                                            <option value="6">周六</option>
                                            <option value="0">周日</option>
                                        </select>
                                        <input type="time" class="border border-gray-300 rounded-md px-3 py-2 text-sm" value="09:00">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 风险类别 -->
                            <div class="mb-4" id="risk-category-container">
                                <label class="block text-sm text-gray-600 mb-1">需要提醒的风险类别</label>
                                <div class="flex flex-wrap gap-3">
                                    <label class="inline-flex items-center">
                                        <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 rounded" checked>
                                        <span class="ml-2 text-sm text-gray-700">高风险</span>
                                    </label>
                                    <label class="inline-flex items-center">
                                        <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 rounded">
                                        <span class="ml-2 text-sm text-gray-700">中风险</span>
                                    </label>
                                    <label class="inline-flex items-center">
                                        <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600 rounded">
                                        <span class="ml-2 text-sm text-gray-700">低风险</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end space-x-4 mt-8">
                <button class="px-6 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition">恢复默认</button>
                <button class="px-6 py-2 bg-[#1890ff] text-white rounded-md hover:bg-[#0e80f0] transition">保存设置</button>
            </div>
        </div>
    </div>
</div>

<!-- 引入必要的外部资源 -->
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>

<script>
    // 投诉处理趋势图
    const complaintCtx = document.getElementById('complaintChart').getContext('2d');
    const complaintChart = new Chart(complaintCtx, {
        type: 'line',
        data: {
            labels: ['9/10', '9/11', '9/12', '9/13', '9/14', '9/15', '9/16'],
            datasets: [
                {
                    label: '新增投诉',
                    data: [32, 45, 38, 52, 41, 36, 48],
                    borderColor: '#3B82F6',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    tension: 0.3,
                    fill: true
                },
                {
                    label: '已处理',
                    data: [28, 38, 32, 45, 36, 30, 42],
                    borderColor: '#10B981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.3,
                    fill: true
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                }
            },
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    // Token消耗趋势图
    const tokenCtx = document.getElementById('tokenChart').getContext('2d');
    const tokenChart = new Chart(tokenCtx, {
        type: 'bar',
        data: {
            labels: ['9/11', '9/12', '9/13', '9/14', '9/15'],
            datasets: [
                {
                    label: 'Token消耗',
                    data: [127890, 115789, 132456, 118945, 125678],
                    backgroundColor: 'rgba(139, 92, 246, 0.7)',
                },
                {
                    label: '计费金额',
                    data: [392.78, 355.67, 406.82, 365.21, 385.64],
                    backgroundColor: 'rgba(59, 130, 246, 0.7)',
                    yAxisID: 'y1',
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Token数量'
                    }
                },
                y1: {
                    beginAtZero: true,
                    position: 'right',
                    title: {
                        display: true,
                        text: '金额 (¥)'
                    },
                    grid: {
                        drawOnChartArea: false
                    }
                }
            }
        }
    });

    // 返回主页按钮事件
    document.querySelector('.back-button').addEventListener('click', function() {
        // 跳转到index.html页面
        window.location.href = 'index.html';
    });

    // 添加设置折叠功能
    function toggleSettingContent(id) {
        const content = document.getElementById(`${id}-content`);
        const icon = document.getElementById(`${id}-icon`);
        
        if (content.classList.contains('hidden')) {
            content.classList.remove('hidden');
            content.style.maxHeight = content.scrollHeight + 'px';
            icon.classList.add('rotate-180');
        } else {
            content.style.maxHeight = '0px';
            setTimeout(() => {
                content.classList.add('hidden');
            }, 300);
            icon.classList.remove('rotate-180');
        }
    }

    // 添加拖拽上传功能
    document.addEventListener('DOMContentLoaded', function() {
        const dropzone = document.getElementById('dropzone');
        const fileUpload = document.getElementById('file-upload');
        const fileList = document.getElementById('file-list');
        
        if (dropzone && fileUpload && fileList) {
            // 阻止默认拖拽行为
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropzone.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            // 高亮显示拖拽区域
            ['dragenter', 'dragover'].forEach(eventName => {
                dropzone.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dropzone.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                dropzone.classList.add('border-blue-500', 'bg-blue-50');
            }
            
            function unhighlight() {
                dropzone.classList.remove('border-blue-500', 'bg-blue-50');
            }
            
            // 处理文件拖放
            dropzone.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles(files);
            }
            
            // 处理文件选择
            fileUpload.addEventListener('change', function() {
                handleFiles(this.files);
            });
            
            function handleFiles(files) {
                [...files].forEach(uploadFile);
            }
            
            function uploadFile(file) {
                // 在实际应用中，这里应该发送文件到服务器
                // 这里仅做前端展示
                
                // 检查文件类型和大小
                const validTypes = ['application/pdf', 'image/jpeg', 'image/png'];
                const maxSize = 10 * 1024 * 1024; // 10MB
                
                if (!validTypes.includes(file.type)) {
                    alert('不支持的文件格式，请上传PDF、JPG或PNG文件');
                    return;
                }
                
                if (file.size > maxSize) {
                    alert('文件大小超过限制，请上传不超过10MB的文件');
                    return;
                }
                
                // 添加到文件列表
                const fileItem = document.createElement('div');
                fileItem.className = 'flex items-center justify-between bg-gray-50 p-2 rounded-md';
                
                let fileIcon = 'fas fa-file';
                if (file.type === 'application/pdf') {
                    fileIcon = 'fas fa-file-pdf text-red-500';
                } else if (file.type.startsWith('image/')) {
                    fileIcon = 'fas fa-file-image text-blue-500';
                }
                
                const fileSizeMB = (file.size / (1024 * 1024)).toFixed(1);
                
                fileItem.innerHTML = `
                    <div class="flex items-center">
                        <i class="${fileIcon} mr-2"></i>
                        <span class="text-sm text-gray-700">${file.name}</span>
                        <span class="ml-2 text-xs text-gray-500">(${fileSizeMB}MB)</span>
                    </div>
                    <button type="button" class="text-gray-500 hover:text-red-500 file-remove">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                fileList.appendChild(fileItem);
                
                // 添加删除文件功能
                fileItem.querySelector('.file-remove').addEventListener('click', function() {
                    fileItem.remove();
                });
            }
            
            // 为示例文件添加删除功能
            document.querySelectorAll('.file-remove').forEach(button => {
                button.addEventListener('click', function() {
                    this.closest('div.flex.items-center.justify-between').remove();
                });
            });
        }
    });

    // 处理邮件和短信通知切换
    document.addEventListener('DOMContentLoaded', function() {
        // 邮件通知切换
        const emailToggle = document.getElementById('email-notification-toggle');
        const emailContent = document.getElementById('email-notification-content');
        
        if (emailToggle && emailContent) {
            emailToggle.addEventListener('change', function() {
                if (this.checked) {
                    emailContent.classList.remove('hidden');
                } else {
                    emailContent.classList.add('hidden');
                }
            });
        }
        
        // 短信通知切换
        const smsToggle = document.getElementById('sms-notification-toggle');
        const smsContent = document.getElementById('sms-notification-content');
        
        if (smsToggle && smsContent) {
            smsToggle.addEventListener('change', function() {
                if (this.checked) {
                    smsContent.classList.remove('hidden');
                } else {
                    smsContent.classList.add('hidden');
                }
            });
            
            // 初始状态
            if (smsToggle.checked) {
                smsContent.classList.remove('hidden');
            }
        }
        
        // 修改通知频次切换的JavaScript代码
        const freqRealtime = document.getElementById('freq-realtime');
        const freqDaily = document.getElementById('freq-daily');
        const freqWeekly = document.getElementById('freq-weekly');
        const dailyTime = document.getElementById('daily-time');
        const weeklyTime = document.getElementById('weekly-time');
        const timeContainer = document.getElementById('notification-time-container');
        
        // 初始化状态 - 确保每日选项被选中，每日时间容器显示
        if (freqDaily) {
            freqDaily.checked = true;
            if (timeContainer) {
                timeContainer.style.display = 'block';
            }
            if (dailyTime) {
                dailyTime.style.display = 'block';
            }
            if (weeklyTime) {
                weeklyTime.style.display = 'none';
            }
        }
        
        // 实时通知
        if (freqRealtime) {
            freqRealtime.addEventListener('change', function() {
                if (this.checked && timeContainer) {
                    timeContainer.style.display = 'none';
                }
            });
        }
        
        // 每日通知
        if (freqDaily) {
            freqDaily.addEventListener('change', function() {
                if (this.checked && timeContainer) {
                    timeContainer.style.display = 'block';
                    if (dailyTime) dailyTime.style.display = 'block';
                    if (weeklyTime) weeklyTime.style.display = 'none';
                }
            });
        }
        
        // 每周通知
        if (freqWeekly) {
            freqWeekly.addEventListener('change', function() {
                if (this.checked && timeContainer) {
                    timeContainer.style.display = 'block';
                    if (dailyTime) dailyTime.style.display = 'none';
                    if (weeklyTime) weeklyTime.style.display = 'flex';
                }
            });
        }
    });
</script>
