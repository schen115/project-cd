<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>舆情链接批量处理平台</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #e8e8e8;
            margin-bottom: 20px;
        }
        
        .logo {
            font-size: 20px;
            font-weight: bold;
            color: #1890ff;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #1890ff;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        /* 页面1样式 */
        .page1 {
            display: block;
        }
        
        .page2, .page3 {
            display: none;
        }
        
        .card-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .card-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        
        .card-stats {
            display: flex;
            justify-content: space-between;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #1890ff;
        }
        
        .stat-label {
            font-size: 12px;
            color: #999;
        }
        
        .filter-section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .filter-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .date-filter {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .date-input {
            padding: 8px 12px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            flex: 1;
        }
        
        /* 恢复标签组样式为原来的布局 */
        .tag-groups {
            display: flex;
            flex-direction: column;
            gap: 12px; /* 减小整体间距 */
        }
        
        /* 添加内容性质标签组样式 */
        .content-nature-group {
            margin-top: 0; /* 移除额外的上边距 */
        }
        
        .tag-group-title {
            font-size: 14px;
            margin-bottom: 8px; /* 稍微减小标题和标签之间的间距 */
            color: #666;
        }
        
        .tag-group {
            margin-bottom: 0;
        }
        
        /* 确保标签组内的标签正确显示 */
        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .tag {
            padding: 6px 12px;
            background-color: #f0f0f0;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .tag.active {
            background-color: #1890ff;
            color: white;
        }
        
        .links-section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .links-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .checkbox-group {
            display: flex;
            gap: 15px;
        }
        
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }
        
        .operation-tabs {
            display: flex;
            gap: 15px;
        }
        
        .operation-tab {
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            background-color: #f0f0f0;
            transition: all 0.2s;
        }
        
        .operation-tab.active {
            background-color: #1890ff;
            color: white;
        }
        
        .links-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .links-table th, .links-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e8e8e8;
        }
        
        .links-table th {
            font-weight: bold;
            background-color: #fafafa;
        }
        
        .links-table tr:hover {
            background-color: #f5f5f5;
        }
        
        .link-title {
            color: #1890ff;
            cursor: pointer;
        }
        
        .link-source {
            color: #999;
            font-size: 12px;
        }
        
        .link-date {
            color: #999;
            font-size: 12px;
        }
        
        .tag-pill {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
            margin-right: 5px;
        }
        
        .tag-pill.topic {
            background-color: #e6f7ff;
            color: #1890ff;
        }
        
        .tag-pill.nature {
            background-color: #f0f0f0;
            color: #666666;
        }
        
        .tag-pill.score {
            background-color: #fff2e8;
            color: #fa8c16;
        }
        
        /* 页面2样式 */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .page-title {
            font-size: 20px;
            font-weight: bold;
        }
        
        .back-button {
            padding: 8px 16px;
            background-color: #f0f0f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .back-button:hover {
            background-color: #e0e0e0;
        }
        
        .task-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .task-filter {
            padding: 8px 16px;
            background-color: #f0f0f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .task-filter.active {
            background-color: #1890ff;
            color: white;
        }
        
        /* 修改任务瀑布流样式 */
        .task-waterfall {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 800px;
            margin: 0 auto;
        }

        .task-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
        }

        /* 新增任务卡片布局样式 */
        .task-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .task-info {
            flex: 1;
        }

        .task-content {
            margin-bottom: 15px;
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        .task-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 12px;
            color: #999;
        }

        .task-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .task-button {
            padding: 8px 16px;
            text-align: center;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .deliver-button {
            background-color: #1890ff;
            color: white;
        }
        
        .deliver-button:hover {
            background-color: #40a9ff;
        }
        
        .view-button {
            background-color: #f0f0f0;
        }
        
        .view-button:hover {
            background-color: #e0e0e0;
        }
        
        /* 页面3样式 */
        .editor-container {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }
        
        .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .editor-title {
            font-size: 18px;
            font-weight: bold;
        }
        
        .ai-button {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 16px;
            background-color: #722ed1;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .ai-button:hover {
            background-color: #9254de;
        }
        
        .editor-content {
            margin-bottom: 20px;
        }
        
        .editor-textarea {
            width: 100%;
            min-height: 300px;
            padding: 15px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            resize: vertical;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .editor-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }
        
        .editor-button {
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .edit-button {
            background-color: #faad14;
            color: white;
        }
        
        .edit-button:hover {
            background-color: #ffc53d;
        }
        
        .complete-button {
            background-color: #52c41a;
            color: white;
        }
        
        .complete-button:hover {
            background-color: #73d13d;
        }
        
        .task-info {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .info-item {
            display: flex;
            margin-bottom: 15px;
        }
        
        .info-label {
            width: 100px;
            font-weight: bold;
            color: #666;
        }
        
        .info-value {
            flex: 1;
        }
        
        .status-tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }
        
        .status-pending {
            background-color: #fff2e8;
            color: #fa8c16;
        }
        
        .status-processing {
            background-color: #e6f7ff;
            color: #1890ff;
        }
        
        .status-completed {
            background-color: #f6ffed;
            color: #52c41a;
        }

        .operation-button {
            padding: 8px 16px;
            background-color: white;
            color: #1890ff;
            border: 1px solid #1890ff;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }

        .operation-button:hover {
            background-color: #e6f7ff;
        }

        .operation-button.active {
            background-color: #1890ff;
            color: white;
        }

        .link-checkbox {
            width: 16px;
            height: 16px;
            cursor: pointer;
        }

        /* 表格操作按钮样式 */
        .table-actions {
            display: flex;
            gap: 8px;
        }

        .table-button {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .table-button.deliver-button {
            background-color: #1890ff;
            color: white;
        }

        .table-button.deliver-button:hover {
            background-color: #40a9ff;
        }

        .table-button.view-button {
            background-color: #f0f0f0;
            color: #333;
        }

        .table-button.view-button:hover {
            background-color: #e0e0e0;
        }

        /* 编辑器页面通用样式 */
        .editor-section {
            margin-bottom: 20px;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            overflow: hidden;
        }

        .section-title {
            font-size: 16px;
            font-weight: bold;
            padding: 10px 15px;
            background-color: #f5f7fa;
            border-bottom: 1px solid #e8e8e8;
        }

        /* 司法编辑器特有样式 */
        .legal-table-container {
            overflow-x: auto;
        }

        .legal-table {
            width: 100%;
            border-collapse: collapse;
        }

        .legal-table th, .legal-table td {
            padding: 10px;
            border: 1px solid #e8e8e8;
        }

        .legal-table th {
            background-color: #f5f7fa;
            font-weight: bold;
            text-align: left;
        }

        .legal-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
        }

        .legal-textarea {
            width: 100%;
            min-height: 100px;
            padding: 8px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            resize: vertical;
        }

        /* 页面1的布局调整 */
        .page1-top {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .dashboard-section {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .filter-section {
            flex: 2;
            margin-bottom: 0;
        }
        
        .chart-container {
            margin-top: 20px;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            cursor: pointer;
            background-color: #f5f7fa;
            border-radius: 8px;
            padding: 15px;
        }
        
        .date-filter {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        
        .this-week-button {
            padding: 8px 16px;
            background-color: #f0f0f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }
        
        .this-week-button:hover {
            background-color: #e0e0e0;
        }
        
        .this-week-button.active {
            background-color: #1890ff;
            color: white;
        }
        
        .horizontal-tag-groups {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .horizontal-tag-group {
            flex: 1;
        }

        /* 修改CSS样式，使三个卡片并列显示 */
        .disposal-cards {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .disposal-card {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: all 0.3s;
        }

        .disposal-card-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .disposal-card-stats {
            display: flex;
            justify-content: space-between;
        }

        .disposal-card .stat-item {
            text-align: center;
        }

        .disposal-card .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #1890ff;
            margin-bottom: 5px;
        }

        .disposal-card .stat-label {
            font-size: 12px;
            color: #999;
        }

        /* 风险标签样式 */
        .tag-pill.score.high-risk {
            background-color: #fff1f0;
            color: #f5222d;
            border: 1px solid #ffa39e;
        }
        
        .tag-pill.score.medium-risk {
            background-color: #fff7e6;
            color: #fa8c16;
            border: 1px solid #ffd591;
        }
        
        .tag-pill.score.low-risk {
            background-color: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }
        
        /* 2. 交换按钮颜色 */
        .table-button.view-button {
            background-color: #1890ff;
            color: white;
        }
        
        .table-button.view-button:hover {
            background-color: #40a9ff;
        }
        
        .table-button.deliver-button {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .table-button.deliver-button:hover {
            background-color: #e0e0e0;
        }
        
        /* 添加已完成处置按钮样式 */
        .table-button.completed-button {
            background-color: #52c41a;
            color: white;
        }
        
        .table-button.completed-button:hover {
            background-color: #73d13d;
        }

        /* 自定义确认弹窗样式 */
        .confirm-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .confirm-modal-content {
            background-color: white;
            border-radius: 8px;
            padding: 30px;
            width: 400px;
            max-width: 90%;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }
        
        .confirm-modal-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }
        
        .confirm-modal-info {
            margin-bottom: 20px;
        }
        
        .confirm-modal-info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .confirm-modal-info-label {
            color: #666;
        }
        
        .confirm-modal-info-value {
            font-weight: bold;
            color: #333;
        }
        
        .confirm-modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .confirm-modal-button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .confirm-modal-button-cancel {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .confirm-modal-button-cancel:hover {
            background-color: #e0e0e0;
        }
        
        .confirm-modal-button-confirm {
            background-color: #1890ff;
            color: white;
        }
        
        .confirm-modal-button-confirm:hover {
            background-color: #40a9ff;
        }

        /* 风险配置模态框样式 */
        .risk-config-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .risk-config-content {
            background-color: white;
            border-radius: 8px;
            padding: 30px;
            width: 500px;
            max-width: 90%;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }
        
        .risk-config-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }
        
        .risk-config-form {
            margin-bottom: 20px;
        }
        
        .risk-config-item {
            margin-bottom: 15px;
        }
        
        .risk-config-label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        
        .risk-config-slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .risk-config-slider {
            flex: 1;
        }
        
        .risk-config-value {
            width: 40px;
            text-align: center;
            font-weight: bold;
        }
        
        .risk-config-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        /* 添加风险阈值按钮样式 */
        .risk-threshold-button {
            padding: 6px 12px; /* 减小内边距 */
            background-color: white;
            color: #1890ff;
            border: 1px solid #1890ff;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px; /* 减小字体大小 */
        }
        
        .risk-threshold-button:hover {
            background-color: #e6f7ff;
        }
        
        .risk-threshold-button.active {
            background-color: #e6f7ff; /* 改为浅蓝色背景 */
            color: #1890ff; /* 文字颜色保持蓝色 */
            border-color: #1890ff; /* 边框颜色加深 */
        }
        
        /* 一键处置按钮样式 */
        .operation-button {
            padding: 6px 12px; /* 减小内边距 */
            background-color: white;
            color: #1890ff;
            border: 1px solid #1890ff;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px; /* 减小字体大小 */
        }
        
        .operation-button:hover {
            background-color: #e6f7ff;
        }
        
        .operation-button.active {
            background-color: #0050b3; /* 改为深蓝色 */
            color: white;
        }

        /* 标签页样式 */
        .editor-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #e8e8e8;
        }
        
        .editor-tab {
            padding: 12px 24px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            border-bottom: 2px solid transparent;
        }
        
        .editor-tab.active {
            color: #1890ff;
            border-bottom-color: #1890ff;
            font-weight: bold;
        }
        
        /* 编辑器内容区域样式 */
        .editor-content-area {
            display: none;
        }
        
        .editor-content-area.active {
            display: block;
        }

        /* 添加表格容器的水平滚动样式 */
        .table-container {
            width: 100%;
            overflow-x: auto;
            white-space: nowrap;
        }

        /* 修改标签样式，使其在一行内显示 */
        .tag-pill-container {
            display: flex;
            flex-wrap: nowrap;
            gap: 5px;
        }

        /* 修改链接标题，防止过长 */
        .link-title {
            max-width: 300px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* 添加发布者样式 */
        .link-publisher {
            color: #999;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">舆情链接批量处理平台</div>
            <div class="user-info">
                <span>管理员</span>
                <div class="user-avatar" id="admin-avatar">A</div>
            </div>
        </header>
        
        <!-- 页面1：舆情数据合作主页面 -->
        <div class="page1">
            <!-- 顶部区域：舆情看板和筛选器 -->
            <div class="page1-top">
                <!-- 舆情看板 -->
                <div class="dashboard-section">
                    <div class="card" id="dashboard-card">
                        <div class="card-title">舆情看板</div>
                        <div class="card-stats">
                            <div class="stat-item">
                                <div class="stat-value">1024</div>
                                <div class="stat-label">总链接量</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">768</div>
                                <div class="stat-label">已处理</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">256</div>
                                <div class="stat-label">待处理</div>
                            </div>
                        </div>
                        <div class="chart-container" id="dashboard-chart">
                            舆情趋势图表 (点击查看详情)
                        </div>
                    </div>
                </div>
                
                <!-- 筛选器 -->
                <div class="filter-section">
                    <div class="filter-title">筛选器</div>
                    <div class="date-filter">
                        <input type="date" class="date-input" placeholder="开始日期">
                        <span>至</span>
                        <input type="date" class="date-input" placeholder="结束日期">
                        <div class="this-week-button" id="this-week-button">本周</div>
                    </div>
                    
                    <!-- 筛选器部分修改 - 交换建议处理方式和评分结果的顺序 -->
                    <div class="tag-groups">
                        <!-- 话题标签组 -->
                        <div class="tag-group">
                            <div class="tag-group-title">内容归属</div>
                            <div class="tags" id="topic-tags">
                                <div class="tag">产品质量</div>
                                <div class="tag">服务态度</div>
                                <div class="tag">价格争议</div>
                                <div class="tag">售后问题</div>
                                <div class="tag">虚假宣传</div>
                                <div class="tag">信息泄露</div>
                            </div>
                        </div>
                        
                        <!-- 评分结果标签组 -->
                        <div class="tag-group">
                            <div class="tag-group-title">风险类别</div>
                            <div class="tags" id="score-tags">
                                <div class="tag">高风险</div>
                                <div class="tag">中风险</div>
                                <div class="tag">低风险</div>
                            </div>
                        </div>
                        
                        <!-- 内容性质标签组 -->
                        <div class="tag-group content-nature-group">
                            <div class="tag-group-title">建议处理方式</div>
                            <div class="tags" id="content-nature-tags">
                                <div class="tag">媒体沟通</div>
                                <div class="tag">侵权</div>
                                <div class="tag">司法</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 中间区域：处置方式卡片 -->
            <div class="disposal-cards">
                <!-- 沟通卡片 -->
                <div class="disposal-card" id="infringement-card">
                    <div class="disposal-card-title">媒体沟通</div>
                    <div class="disposal-card-stats">
                        <div class="stat-item">
                            <div class="stat-value">384</div>
                            <div class="stat-label">已处理</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">128</div>
                            <div class="stat-label">待处理</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">8</div>
                            <div class="stat-label">已归档</div>
                        </div>
                    </div>
                </div>
                
                <!-- 侵权卡片 -->              
                <div class="disposal-card" id="communication-card">
                    <div class="disposal-card-title">侵权</div>
                    <div class="disposal-card-stats">
                        <div class="stat-item">
                            <div class="stat-value">192</div>
                            <div class="stat-label">已处理</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">64</div>
                            <div class="stat-label">待处理</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">10</div>
                            <div class="stat-label">已归档</div>
                        </div>
                    </div>
                </div>
                
                <!-- 司法卡片 -->
                <div class="disposal-card" id="legal-card">
                    <div class="disposal-card-title">司法</div>
                    <div class="disposal-card-stats">
                        <div class="stat-item">
                            <div class="stat-value">51</div>
                            <div class="stat-label">已处理</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">49</div>
                            <div class="stat-label">待处理</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">25</div>
                            <div class="stat-label">已归档</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 底部区域：链接瀑布流 -->
            <div class="links-section">
                <div class="links-header">
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="select-all"> 全选
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" checked> 显示标题
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" checked> 显示来源
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" checked> 显示日期
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" checked> 显示发布者
                        </label>
                    </div>
                    
                    <div class="operation-tabs">
                        <div class="risk-threshold-button" id="risk-threshold-button">风险偏好</div>
                        <div class="operation-button" id="batch-process-button">开始处置</div>
                    </div>
                </div>
                
                <!-- 修改表头，调整列顺序 -->
                <div class="table-container">
                    <table class="links-table">
                        <thead>
                            <tr>
                                <th width="5%"></th>
                                <th width="20%">链接标题</th>
                                <th width="7%">来源</th>
                                <th width="7%">发布日期</th>
                                <th width="8%">发布者</th>
                                <th width="18%">内容归属</th>
                                <th width="18%">风险类别</th>
                                <th width="17%">建议处理方式</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" class="link-checkbox"></td>
                                <td class="link-title">某企业售后服务态度差引发争议</td>
                                <td class="link-source">小红书</td>
                                <td class="link-date">2025-09-15</td>
                                <td class="link-publisher">央视新闻</td>
                                <td>
                                    <span class="tag-pill topic">产品质量</span>
                                </td>
                                <td>
                                    <span class="tag-pill score high-risk">高风险</span>
                                </td>
                                <td>
                                    <span class="tag-pill nature">媒体沟通</span>
                                    <span class="tag-pill nature">侵权</span>
                                    <span class="tag-pill nature">司法</span>
                                </td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="link-checkbox"></td>
                                <td class="link-title">消费者投诉某企业虚假宣传问题</td>
                                <td class="link-source">知乎</td>
                                <td class="link-date">2025-09-14</td>
                                <td class="link-publisher">人民日报</td>
                                <td>
                                    <span class="tag-pill topic">虚假宣传</span>
                                </td>
                                <td>
                                    <span class="tag-pill score medium-risk">中风险</span>
                                </td>
                                <td>
                                    <span class="tag-pill nature">司法</span>
                                </td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="link-checkbox"></td>
                                <td class="link-title">某企业售后服务态度差引发争议</td>
                                <td class="link-source">微博</td>
                                <td class="link-date">2025-09-13</td>
                                <td class="link-publisher">新华社</td>
                                <td>
                                    <span class="tag-pill topic">服务态度</span>
                                </td>
                                <td>
                                    <span class="tag-pill score medium-risk">中风险</span>
                                </td>
                                <td>
                                    <span class="tag-pill nature">媒体沟通</span>
                                </td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="link-checkbox"></td>
                                <td class="link-title">某企业产品质量问题引发消费者不满</td>
                                <td class="link-source">微信公众号</td>
                                <td class="link-date">2025-09-12</td>
                                <td class="link-publisher">财经网</td>
                                <td>
                                    <span class="tag-pill topic">信息泄露</span>
                                </td>
                                <td>
                                    <span class="tag-pill score medium-risk">中风险</span>
                                </td>
                                <td>
                                    <span class="tag-pill nature">司法</span>
                                </td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="link-checkbox"></td>
                                <td class="link-title">消费者对某企业产品价格表示不满</td>
                                <td class="link-source">抖音</td>
                                <td class="link-date">2025-09-11</td>
                                <td class="link-publisher">消费者报道</td>
                                <td>
                                    <span class="tag-pill topic">价格争议</span>
                                </td>
                                <td>
                                    <span class="tag-pill score low-risk">低风险</span>
                                </td>
                                <td>
                                    <span class="tag-pill nature">媒体沟通</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // 1) “开始处置” -> 直接跳转到 task_mag.html
    const batchProcessButton = document.getElementById('batch-process-button');
    if (batchProcessButton) {
      batchProcessButton.addEventListener('click', function () {
        this.classList.add('active');
        setTimeout(() => this.classList.remove('active'), 200);

        const selectedLinks = document.querySelectorAll('.link-checkbox:checked');
        if (selectedLinks.length === 0) {
          alert('请至少选择一个链接进行处置');
          return;
        }
        if (confirm(`确认要处置已选择的 ${selectedLinks.length} 个链接吗？`)) {
          window.location.href = 'task_mag.html';
        }
      });
    }

    // 2) 舆情看板卡片/图表跳转（如果存在）
     const dashboardCard = document.getElementById('dashboard-card');
    if (dashboardCard) {
      dashboardCard.addEventListener('click', function () {
        window.open(
          'https://bi.aliyuncs.com/token3rd/dashboard/view/pc.htm?pageId=ece683bc-a964-45c0-803d-39058bb81e2c&accessTicket=03717921-e115-4a6a-8a5f-e080c14f5bf9&dd_orientation=auto&qbi_version_param=1',
          '_blank'
        );
      });
    }
    const dashboardChart = document.getElementById('dashboard-chart');
    if (dashboardChart) {
      dashboardChart.addEventListener('click', function () {
        window.open(
          'https://bi.aliyuncs.com/token3rd/dashboard/view/pc.htm?pageId=ece683bc-a964-45c0-803d-39058bb81e2c&accessTicket=03717921-e115-4a6a-8a5f-e080c14f5bf9&dd_orientation=auto&qbi_version_param=1',
          '_blank'
        );
      });
    }

    // 3) “本周”按钮
    const thisWeekButton = document.getElementById('this-week-button');
    if (thisWeekButton) {
      thisWeekButton.addEventListener('click', function () {
        this.classList.toggle('active');
        const today = new Date();
        const dayOfWeek = today.getDay();
        const mondayOffset = dayOfWeek === 0 ? -6 : 1 - dayOfWeek;
        const monday = new Date(today); monday.setDate(today.getDate() + mondayOffset);
        const sunday = new Date(monday); sunday.setDate(monday.getDate() + 6);
        const formatDate = d => `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`;
        const dateInputs = document.querySelectorAll('.date-input');
        if (this.classList.contains('active')) {
          if (dateInputs[0]) dateInputs[0].value = formatDate(monday);
          if (dateInputs[1]) dateInputs[1].value = formatDate(sunday);
        } else {
          if (dateInputs[0]) dateInputs[0].value = '';
          if (dateInputs[1]) dateInputs[1].value = '';
        }
      });
    }

     // 4) 表头复选框控制显示/隐藏
     const headerCheckboxes = document.querySelectorAll('.checkbox-label input');
    headerCheckboxes.forEach(checkbox => {
      checkbox.addEventListener('change', function () {
        const index = Array.from(headerCheckboxes).indexOf(this);
        const table = document.querySelector('.links-table');
        if (!table) return;
        table.querySelectorAll('tbody tr').forEach(row => {
          const cell = row.cells[index];
          if (!cell) return;
          cell.style.display = this.checked ? '' : 'none';
        });
      });
    });

    // 5) 全选
    const selectAllCheckbox = document.getElementById('select-all');
    const linkCheckboxes = document.querySelectorAll('.link-checkbox');
    if (selectAllCheckbox) {
      selectAllCheckbox.addEventListener('change', function () {
        linkCheckboxes.forEach(cb => cb.checked = this.checked);
      });
    }

     // 6) 自动勾选高/中风险
     function autoSelectRiskRows () {
      document.querySelectorAll('.links-table tbody tr').forEach(row => {
        const riskTag = row.querySelector('.tag-pill.score');
        const checkbox = row.querySelector('input[type="checkbox"]');
        if (checkbox && riskTag && (riskTag.classList.contains('high-risk') || riskTag.classList.contains('medium-risk'))) {
          checkbox.checked = true;
        }
      });
      updateSelectAllCheckbox();
    }
    function updateSelectAllCheckbox () {
      const all = document.getElementById('select-all');
      const cbs = document.querySelectorAll('.link-checkbox');
      if (all) all.checked = Array.from(cbs).every(cb => cb.checked);
    }
    autoSelectRiskRows();
    document.querySelectorAll('#score-tags .tag').forEach(tag => {
      tag.addEventListener('click', () => setTimeout(autoSelectRiskRows, 100));
    });
    document.querySelectorAll('.link-checkbox').forEach(cb => {
      cb.addEventListener('change', updateSelectAllCheckbox);
    });

    // 7) 统一“查看” -> editor1.html
    const viewButtons = document.querySelectorAll('.table-button.view-button');
    viewButtons.forEach(button => {
      const newBtn = button.cloneNode(true);
      button.parentNode.replaceChild(newBtn, button);
      newBtn.addEventListener('click', () => { window.location.href = 'editor1.html'; });
    });

    // 8) 头像跳转
    const adminAvatar = document.getElementById('admin-avatar');
    if (adminAvatar) {
      adminAvatar.style.cursor = 'pointer';
      adminAvatar.addEventListener('click', () => { window.location.href = 'user.html'; });
    }

    // 9) 风险偏好跳转
    const riskThresholdButton = document.getElementById('risk-threshold-button');
    if (riskThresholdButton) {
      riskThresholdButton.addEventListener('click', function () {
        this.classList.add('active');
        setTimeout(() => {
          this.classList.remove('active');
          window.location.href = 'user.html#user-preferences';
        }, 200);
      });
    }
  });
</script>

</body>
</html>

